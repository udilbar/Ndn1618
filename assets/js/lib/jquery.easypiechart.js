/**!
 * easyPieChart
 * Lightweight plugin to render simple, animated and retina optimized pie charts
 *
 * @license
 * @author Robert Fleischmann <rendro87@gmail.com> (http://robert-fleischmann.de)
 * @version 2.1.6
 **/
!function (e, t) { "object" == typeof exports ? module.exports = t(require("jquery")) : "function" == typeof define && define.amd ? define(["jquery"], t) : t(e.jQuery) }(this, (function (e) { var CanvasRenderer = function (e, t) { var n, a = document.createElement("canvas"); e.appendChild(a), "undefined" != typeof G_vmlCanvasManager && G_vmlCanvasManager.initElement(a); var i = a.getContext("2d"); a.width = a.height = t.size; var r = 1; window.devicePixelRatio > 1 && (r = window.devicePixelRatio, a.style.width = a.style.height = [t.size, "px"].join(""), a.width = a.height = t.size * r, i.scale(r, r)), i.translate(t.size / 2, t.size / 2), i.rotate((t.rotate / 180 - .5) * Math.PI); var o = (t.size - t.lineWidth) / 2; t.scaleColor && t.scaleLength && (o -= t.scaleLength + 2), Date.now = Date.now || function () { return +new Date }; var drawCircle = function (e, t, n) { var a = (n = Math.min(Math.max(-1, n || 0), 1)) <= 0; i.beginPath(), i.arc(0, 0, o, 0, 2 * Math.PI * n, a), i.strokeStyle = e, i.lineWidth = t, i.stroke() }, s = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (e) { window.setTimeout(e, 1e3 / 60) }, drawBackground = function () { t.scaleColor && function () { var e, n; i.lineWidth = 1, i.fillStyle = t.scaleColor, i.save(); for (var a = 24; a > 0; --a)a % 6 == 0 ? (n = t.scaleLength, e = 0) : (n = .6 * t.scaleLength, e = t.scaleLength - n), i.fillRect(-t.size / 2 + e, 0, n, 1), i.rotate(Math.PI / 12); i.restore() }(), t.trackColor && drawCircle(t.trackColor, t.trackWidth || t.lineWidth, 1) }; this.getCanvas = function () { return a }, this.getCtx = function () { return i }, this.clear = function () { i.clearRect(t.size / -2, t.size / -2, t.size, t.size) }, this.draw = function (e) { var a; t.scaleColor || t.trackColor ? i.getImageData && i.putImageData ? n ? i.putImageData(n, 0, 0) : (drawBackground(), n = i.getImageData(0, 0, t.size * r, t.size * r)) : (this.clear(), drawBackground()) : this.clear(), i.lineCap = t.lineCap, a = "function" == typeof t.barColor ? t.barColor(e) : t.barColor, drawCircle(a, t.lineWidth, e / 100) }.bind(this), this.animate = function (e, n) { var a = Date.now(); t.onStart(e, n); var i = function () { var r = Math.min(Date.now() - a, t.animate.duration), o = t.easing(this, r, e, n - e, t.animate.duration); this.draw(o), t.onStep(e, n, o), r >= t.animate.duration ? t.onStop(e, n) : s(i) }.bind(this); s(i) }.bind(this) }, EasyPieChart = function (e, t) { var n = { barColor: "#ef1e25", trackColor: "#f9f9f9", scaleColor: "#dfe0e0", scaleLength: 5, lineCap: "round", lineWidth: 3, trackWidth: void 0, size: 110, rotate: 0, animate: { duration: 1e3, enabled: !0 }, easing: function (e, t, n, a, i) { return (t /= i / 2) < 1 ? a / 2 * t * t + n : -a / 2 * (--t * (t - 2) - 1) + n }, onStart: function (e, t) { }, onStep: function (e, t, n) { }, onStop: function (e, t) { } }; if (void 0 !== CanvasRenderer) n.renderer = CanvasRenderer; else { if ("undefined" == typeof SVGRenderer) throw new Error("Please load either the SVG- or the CanvasRenderer"); n.renderer = SVGRenderer } var a = {}, i = 0, r = function () { for (var r in this.el = e, this.options = a, n) n.hasOwnProperty(r) && (a[r] = t && void 0 !== t[r] ? t[r] : n[r], "function" == typeof a[r] && (a[r] = a[r].bind(this))); "string" == typeof a.easing && "undefined" != typeof jQuery && jQuery.isFunction(jQuery.easing[a.easing]) ? a.easing = jQuery.easing[a.easing] : a.easing = n.easing, "number" == typeof a.animate && (a.animate = { duration: a.animate, enabled: !0 }), "boolean" != typeof a.animate || a.animate || (a.animate = { duration: 1e3, enabled: a.animate }), this.renderer = new a.renderer(e, a), this.renderer.draw(i), e.dataset && e.dataset.percent ? this.update(parseFloat(e.dataset.percent)) : e.getAttribute && e.getAttribute("data-percent") && this.update(parseFloat(e.getAttribute("data-percent"))) }.bind(this); this.update = function (e) { return e = parseFloat(e), a.animate.enabled ? this.renderer.animate(i, e) : this.renderer.draw(e), i = e, this }.bind(this), this.disableAnimation = function () { return a.animate.enabled = !1, this }, this.enableAnimation = function () { return a.animate.enabled = !0, this }, r() }; e.fn.easyPieChart = function (t) { return this.each((function () { var n; e.data(this, "easyPieChart") || (n = e.extend({}, t, e(this).data()), e.data(this, "easyPieChart", new EasyPieChart(this, n))) })) } }));